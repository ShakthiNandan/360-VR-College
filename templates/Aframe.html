<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>360Â° VR Viewer</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
</head>
<body>
    <a-scene>
        <!-- Camera with look-controls (for gyro support) -->
        <a-entity id="camera" camera look-controls wasd-controls position="0 1.6 0">
            <a-entity cursor="fuse: true; fuseTimeout: 1000" 
                      position="0 0 -1" 
                      geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" 
                      material="color: white; shader: flat">
            </a-entity>
        </a-entity>

        <!-- 360 Image (Skybox) -->
        <a-sky id="scene" src="{{ url_for('static', filename='images/pic1.jpg') }}"></a-sky>

        <!-- Scene Hotspots -->
        <a-entity position="1 1 -3" 
                  geometry="primitive: plane; height: 0.5; width: 1" 
                  material="color: red; opacity: 0.7" 
                  text="value: Go to Scene 2; align: center"
                  onclick="changeScene('{{ url_for('static', filename='images/pic2.jpg') }}')">
        </a-entity>

        <a-entity position="-1 1 -3" 
                  geometry="primitive: plane; height: 0.5; width: 1" 
                  material="color: blue; opacity: 0.7" 
                  text="value: Go to Scene 3; align: center"
                  onclick="changeScene('{{ url_for('static', filename='images/pic3.jpg') }}')">
        </a-entity>
    </a-scene>

    <script>
        function changeScene(imageUrl) {
            document.getElementById("scene").setAttribute("src", imageUrl);
        }
    </script>
</body>
</html>
